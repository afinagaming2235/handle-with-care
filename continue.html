<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Continue</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <link rel="stylesheet" href="/css/styles.css" />
</head>

<body>
  <!-- Background layers -->
  <div id="bg"></div>
  <div id="fog"></div>
  <div id="noise"></div>
  <div id="vignette"></div>

  <div class="app">
    <!-- HEARTS HUD -->
    <div id="hearts" class="hearts hidden"></div>

    <main class="card wide">

      <!-- BLOCKED -->
      <section id="blocked" class="hidden">
        <p class="title">Access denied.</p>
      </section>

      <!-- HEART INSTRUCTION -->
      <section id="personal" class="hidden">
        <div class="stack wide">
          <p class="title">Before you continue.</p>
          <p class="subtitle">
            You have <b>3 hearts</b>.<br />
            Some answers can hurt me.<br />
            If you hurt me too much… this stops here.
          </p>

          <button id="personalBtn" class="btn glow">I understand</button>
          <p id="personalMsg" class="msg"></p>
        </div>
      </section>

      <!-- QUESTIONS -->
      <section id="mainQuestions" class="hidden">
        <div class="stack wide">
          <p id="mqPrompt" class="question big"></p>
          <div id="mqChoices"></div>
          <p id="mqMsg" class="msg"></p>
        </div>
      </section>

      <!-- AFTER QUESTIONS -->
      <section id="afterMain" class="hidden">
        <div class="stack wide">
          <p id="afterMainTitle" class="title"></p>
          <p id="afterMainBody" class="subtitle"></p>
          <button id="toGameBtn" class="btn glow hidden">Continue</button>
        </div>
      </section>

      <!-- HOLD GAME -->
      <section id="game" class="hidden">
        <div class="stack wide">
          <p class="title">One more thing.</p>
          <p class="subtitle">Hold it. Don’t let go.</p>

          <div class="hold-box">
            <div id="holdProgress" class="hold-progress"></div>
            <button id="holdBtn" class="hold-btn">HOLD</button>
          </div>

          <p class="note">If you let go early… you lose a heart.</p>
        </div>
      </section>

      <!-- AFTER GAME -->
      <section id="afterGame" class="hidden">
        <div class="stack wide">
          <p id="afterGameTitle" class="title"></p>
          <p id="afterGameBody" class="subtitle"></p>
          <button id="toScrollBtn" class="btn glow hidden">Continue</button>
        </div>
      </section>

      <!-- SCROLL LETTER -->
      <section id="scroll" class="hidden">
        <div class="stack wide">
          <p class="title">Open it.</p>
          <p class="subtitle">Read it slowly.</p>

          <button id="openScroll" class="btn">Open</button>

          <div id="letterWrap" class="paper scroll-paper hidden">
            <div id="letter" class="letter"></div>
          </div>

          <button id="toFinalBtn" class="btn glow hidden">Continue</button>
        </div>
      </section>

      <!-- FINAL: 3-LEVEL CARD FIND GAME (NO HEARTS) -->
      <section id="final" class="hidden">
        <div class="stack wide">
          <p class="title">Last thing.</p>
          <p id="finalInstruction" class="subtitle">
            You have <b>3 minutes</b>.<br />
            Find the correct card before time runs out.
          </p>

          <!-- timer bar -->
          <div class="timerTrack">
            <div id="photoTimerBar" class="timerBar"></div>
          </div>

          <p id="levelMsg" class="msg"></p>

          <!-- GRID GAME -->
          <div id="grid" class="grid"></div>

          <!-- REWARD WORDS -->
          <p id="rewardText" class="title hidden"></p>

          <!-- PHOTO CARD (LEVEL 3) -->
          <section id="final" class="hidden">
            <h2 class="title center">Last thing.</h2>
            <p class="subtitle center">
              You have 3 minutes.<br>
              Find the correct card before time runs out.
            </p>

            <p class="msg ok center" id="finalHint"></p>

            <div class="photo-card" id="photoCard">
              <!-- FRONT -->
              <div class="card-front center">
                Flip the card
              </div>

              <!-- BACK -->
              <div class="card-back">
                <canvas id="scratchCanvas"></canvas>
                <img
                  src="/assets/20251206_190038.jpg"
                  alt="photo"
                  class="photo-img"
                />
                <div class="scratch-label">Scratch to reveal</div>
              </div>
            </div>
          </section>
        </div>
      </section>

    </main>
  </div>

  <script type="module" src="/js/continue.js"></script>
</body>
</html>
